<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="main-layout :: main-fragment(~{::title}, ~{::#question-form-css}, ~{::#question-form-content}, ~{::#new-question-js})">
<head>
<title th:text="#{question.form.pageLabel}"></title>
<th:block id="question-form-css">
	<link rel="stylesheet" type="text/css"
		href="../../static/css/user-form.css" th:href="@{/css/user-form.css}" />
</th:block>
</head>
<body>
	<div id="question-form-content">
		<div class="card card-small">
			<div class="row align-center card-header">
				<h3 th:text="#{question.form.update.caption}"></h3>
				<a th:href="@{/question(quizId=${quizId})}" class="btn-primary"
					th:text="#{common.back}"></a>
			</div>
			<form method="post"
				th:action="@{/question/update(quizId=${quizId})}"
				th:object="${question}">
				<input type="hidden" th:field="*{id}">
				<div class="form-row">
					<label for="question-title"
						th:text="#{question.form.title} + ' :' " class="form-label"></label>
					<input id="question-title" class="form-input" type="text"
						th:field="*{title}"
						th:placeholder="#{question.form.title.placeholder}" required>
				</div>
				<div class="form-row">
					<label class="form-label" th:text="#{quiz.list.items} + ' :' "></label>
					<span th:if="${#fields.hasErrors('items')}" th:errors="*{items}"></span>
					<ul>
						<li th:each="item, itemStat : *{items}" class="item"
							th:classappend="${itemStat.index<6} ? item-visible : item-hidden">
							<input type="hidden" th:field="*{items[__${itemStat.index}__].id}"> 
							<input type="checkbox"
								th:field="*{items[__${itemStat.index}__].response}" /> <input
								type="text" th:field="*{items[__${itemStat.index}__].title}"
								class="form-input" />
						</li>
					</ul>
				</div>
				<div class="form-row">
					<!-- <div onclick="addItem()">Ajouter une r√©ponse</div>  -->
					<button type="submit" class="btn-primary" th:text="#{common.save}"></button>
				</div>
			</form>
		</div>
		<th:block id="new-question-js">
			<script type="text/javascript" src="../../static/add-question.js"
				th:src="@{/add-question.js}"></script>
		</th:block>
	</div>
</body>
</html>