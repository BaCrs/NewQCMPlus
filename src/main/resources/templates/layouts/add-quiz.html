<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="main-layout :: main-fragment(~{::title}, null, ~{::#new-quiz-content}, ~{::#new-quiz-js})">
<head>
<title>Création d'un questionnaire</title>
<!-- 
    <th:block id="home-static-resources">
        <script type="text/javascript" src="../static/home.js" th:src="@{/home.js}"></script>
        <link rel="stylesheet" type="text/css" href="../static/home.css" th:href="@{/home.css}"/>
    </th:block>
    -->
</head>
<body>
	<div id="new-quiz-content">
		<h2>Création d'un questionnaire</h2>
		<form id="add-quiz-form" method="post" th:action="@{/quiz/save}" th:object="${quiz}">
			<input type="hidden" th:field="*{id}">
			<p>
				<label>Titre : </label><input type="text" th:field="*{title}" required>
			</p>
			<p>
				<label>Description : </label><input type="text" th:field="*{description}" required>
			</p>
			<button type="submit">Envoyer</button>
		</form>
		<form  method="post" th:action="@{/quiz/delete(id=${quiz.id})}" th:object="${quiz}">
			<button type="submit" onClick="return confirm('Etes-vous sûr de vouloir supprimer ce questionnaire ?')">Supprimer</button>
		</form>
		<h2>- Questions -</h2>
		<a th:href="@{/question/create(quizId=${quiz.id})}">Ajouter une question</a>
		<th:block th:each="question : ${quiz.questions}">
			<h4><a th:href="@{/question/update(id=${question.id}, quizId=${quiz.id})}" th:text="${question.title}"></a></h4>
			<ul>
				<li th:each="item : ${question.items}">
					<p th:text="${item.title}"><input type="checkbox" checked="${item.response}" disabled>
				</li>
			</ul>
		</th:block>
	</div>
	<th:block id="new-quiz-js">
		<script type="text/javascript" src="../../static/add-quiz.js" th:src="@{/add-quiz.js}"></script>
	</th:block>
</body>
</html>