<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="main-layout :: main-fragment(~{::title}, ~{::#do-quiz-content}, ~{::#do-quiz-js})">
<head>
<title>Faire le questionnaire</title>
<!-- 
    <th:block id="home-static-resources">
        <script type="text/javascript" src="../static/home.js" th:src="@{/home.js}"></script>
        <link rel="stylesheet" type="text/css" href="../static/home.css" th:href="@{/home.css}"/>
    </th:block>
    -->
</head>
<body>
	<div id="do-quiz-content">
		<h2 th:text="${result.quiz.title}"></h2>
		<p th:text="${result.quiz.description}"></p>
		<form id="do-quiz-form" method="post" th:action="@{/quiz/do(quizId=${result.quiz.id})}" th:object="${result}">
			<input type="hidden" th:field="*{id}">
			<input type="hidden" th:field="*{dateDebut}">
			<ul>
				<li th:each="question, questionStat : *{quiz.questions}">
					<h4 th:text="${question.title}"></h4>
					<input type="text" th:field="*{quiz.questions[__${questionStat.index}__].title}"/>
					<ul>
						<li th:each="item, itemStat : *{quiz.questions[__${questionStat.index}__].items}">
							<input type="hidden" th:field="*{quiz.questions[__${questionStat.index}__].items[__${itemStat.index}__].id}">
							<p th:text="${item.title}"></p>
							<input type="checkbox" th:field="*{quiz.questions[__${questionStat.index}__].items[__${itemStat.index}__].response}" />
						</li>
					</ul>
				</li>
			</ul>
			<button type="submit">Envoyer</button>
		</form>
	</div>
	<th:block id="do-quiz-js">
		<!-- <script type="text/javascript" src="../../static/add-quiz.js" th:src="@{/add-quiz.js}"></script> -->
	</th:block>
</body>
</html>